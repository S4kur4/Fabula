version: "3.3"

services:
  web:
    build: .
    ports:
      - "127.0.0.1:5001:5000"
    volumes:
      - ./static/photos:/app/static/photos
    environment:
      # Admin credentials
      - ADMIN_USERNAME=${ADMIN_USERNAME}
      - ADMIN_PASSWORD=${ADMIN_PASSWORD}

      # Flask secret key
      - SECRET_KEY=${SECRET_KEY}

      # Website title
      - TITTLE=${TITTLE}

      # About page configuration
      - ABOUT_HEADING=${ABOUT_HEADING}
      - ABOUT_ME=${ABOUT_ME}
      - ABOUT_SIGNATURE=${ABOUT_SIGNATURE}
      - ABOUT_CLIENTS=${ABOUT_CLIENTS}
      - ABOUT_GEAR=${ABOUT_GEAR}
      - ABOUT_CONTACT=${ABOUT_CONTACT}

      # Analytics
      - GOOGLE_ANALYTICS_ID=${GOOGLE_ANALYTICS_ID}
      - UMAMI_WEBSITE_ID=${UMAMI_WEBSITE_ID}

      # Security
      - TURNSTILE_SITE_KEY=${TURNSTILE_SITE_KEY}
      - TURNSTILE_SECRET_KEY=${TURNSTILE_SECRET_KEY}
    restart: always
