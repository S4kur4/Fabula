<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Photo Management</title>
        <link
            rel="icon"
            href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“·</text></svg>"
        />
        
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600&family=Space+Grotesk:wght@500;600;700&display=swap"
            rel="stylesheet"
        />
        
        <link
            href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css"
            rel="stylesheet"
        />
        
        <link rel="stylesheet" href="{{ url_for('static', filename='css/manage.css') }}" />
    </head>
    <body>
        <header>
            <div class="header-inner">
                <div class="logo">Photo Management</div>
                <div class="nav-wrapper">
                    <a href="/" class="back-link">
                        <i class="ri-arrow-left-line"></i> Back to Gallery
                    </a>
                    <button class="theme-btn" id="theme-toggle">
                        <i class="ri-moon-line" id="theme-icon"></i>
                    </button>
                    <button class="btn-danger" onclick="logout()">
                        <i class="ri-logout-box-line"></i> Logout
                    </button>
                </div>
            </div>
        </header>

        <div class="container">
            <div class="tab-bar">
                <button class="tab-btn active" data-tab="media">Media</button>
                <button class="tab-btn" data-tab="about">About</button>
            </div>

            <div class="tab-panel active" data-panel="media">
            <!-- Albums Section -->
            <div class="cms-section">
                <div class="cms-header">
                    <div class="cms-title">Albums</div>
                    <button class="btn-primary" onclick="createNewAlbum()">
                        + Create Album
                    </button>
                </div>
                <div class="album-list" id="album-list"></div>
            </div>

            <!-- Photos Section -->
            <div class="cms-section">
                <div class="cms-header">
                    <div>
                        <div class="cms-title">Photos</div>
                        <div class="cms-subtitle" id="photo-count">0 items</div>
                    </div>
                </div>

                <div class="upload-toolbar">
                    <div class="upload-album">
                        <label for="upload-album-select">Upload to</label>
                        <select id="upload-album-select"></select>
                    </div>
                    <div class="upload-note" id="upload-album-note"></div>
                </div>

                <div class="upload-area" onclick="document.getElementById('file-input').click()">
                    <i class="ri-upload-cloud-2-line" style="font-size: 32px"></i><br />
                    <span>Click to Upload or Drag files</span>
                </div>

                <input
                    type="file"
                    id="file-input"
                    accept="image/*"
                    multiple
                    style="display: none"
                />

                <div class="manage-grid" id="photo-grid"></div>
            </div>
            </div>

            <!-- About Section -->
            <div class="tab-panel" data-panel="about">
            <div class="cms-section">
                <div class="cms-header">
                    <div>
                        <div class="cms-title">About</div>
                        <div class="cms-subtitle">Edit the About page content</div>
                    </div>
                </div>

                <div class="about-form">
                    <label class="form-label" for="about-heading">Heading</label>
                    <input id="about-heading" class="form-input" type="text" />

                    <label class="form-label" for="about-me">About Me</label>
                    <textarea id="about-me" class="form-textarea" rows="6"></textarea>

                    <label class="form-label" for="about-signature">Signature</label>
                    <input id="about-signature" class="form-input" type="text" />

                    <div class="form-group">
                        <div class="group-header">
                            <span>Gear</span>
                            <button class="btn-primary" type="button" onclick="addGearRow()">+ Add Gear</button>
                        </div>
                        <div id="gear-list" class="row-list"></div>
                    </div>

                    <div class="form-group">
                        <div class="group-header">
                            <span>Contact</span>
                            <button class="btn-primary" type="button" onclick="addContactRow()">+ Add Contact</button>
                        </div>
                        <div id="contact-list" class="row-list"></div>
                    </div>

                    <div class="form-actions">
                        <button class="btn-primary" type="button" onclick="saveAbout()">Save About</button>
                    </div>
                </div>
            </div>
            </div>
        </div>

        <!-- Upload Progress -->
        <div id="upload-progress" style="display: none">
            <div class="progress-container">
                <img class="progress-thumbnail" src="" alt="Uploading" />
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <div class="progress-info">
                    <span class="progress-count"></span>
                </div>
            </div>
        </div>

        <div id="action-island" class="action-island" style="display: none">
            <div class="action-island-inner" id="action-island-inner"></div>
        </div>

        <script src="{{ url_for('static', filename='js/manage.js') }}"></script>
    </body>
</html>
